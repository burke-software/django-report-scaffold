{% extends "scaffold_report/base.html" %}

{% block content %}
  <h1>{{ report.get_name|title }}</h1>
  <div id="scaffold">
    <div id="scaffold_filters">
      <div id="scaffold_active_filters">
        {% for filter in filters %}
          {% if filter.default %}
            {% include "scaffold_report/filter.html" %}
          {% endif %}
        {% endfor %}
      </div>
      <div class="row" id="add-new-rule-block">
        <div class="three columns">
          <h3>Add New Rule</h3>
        </div>
        <div class="nine columns">
          <div class="field picker">
            <select id="add_new_filter" onchange="add_filter(this)">
              <option value="">Select the rule you want to add</option>
              {% for filter in filters %}
                {% if filter.can_add %}
                  <option value="{{ filter.get_name }}">{{ filter.get_verbose_name }}</option>
                {% endif %}
              {% endfor %}
            </select>
          </div>
        </div>
      </div>
    </div>

    <div id="filter_copy_area" style="display:none;">
      {% for filter in filters %}
        {% if filter.can_add %}
          {% include "scaffold_report/filter.html" %}
        {% endif %}
      {% endfor %}
    </div>

    <div style="clear:both"/>
    <div class="large primary btn">
      <a href="javascript:void(0);" onclick="view_results('preview');">Update</a>
    </div>
    <div class="large primary btn">
      <a href="javascript:void(0);" onclick="view_results('xlsx');">Download as xlsx</a>
    </div>
    <div class="large primary btn">
      <a href="javascript:void(0);" onclick="view_results('django_admin');">Edit</a>
    </div>
    <div class="large primary btn">
      <a href="javascript:void(0);" onclick="view_results('appy');">Export to template</a>
    </div>

    <div id="preview_area">
    </div>

  </div>
{% endblock %}
