<div class="filter {{ filter.get_name }}{% if filter.can_remove %} removable{% endif %}" data-name="{{ filter.get_name }}">
  <h3 class="filter-title">{{ filter.get_verbose_name }}</h3>
  <form method="post" class="filter_form">

    {% if filter.can_remove %}
      <a href="javascript:void(0);" class="delete-filter"><i class="icon-cancel-circled"></i></a>
    {% endif %}
    {% if filter.template_name %}
      {{ filter.render_form }}
    {% else %}
      {# filter.form #}
      {% load widget_tweaks %}

    {% for field in filter.form %}
      {% if field.is_hidden %}
        {{ field }}
      {% elif field|widget_type == 'select' %}
        <div class="picker">
          {{ field }}
        </div>
      {% elif field|widget_type == 'selectmultiple' %}
        <div class="picker-multiple">
          {{ field }}
        </div>
      {% elif field|widget_type == 'checkboxinput' %}
        {{ field }}
      {% else %}
        <div class="field">
            {{ field.errors }}
            {# field.label_tag #}

            {% render_field field class+="input xnarrow" placeholder+=field|widget_type %}

        </div>
      {% endif %}
    {% endfor %}

      {{ filter.post_form_text }}
    {% endif %}
  </form>
</div>
